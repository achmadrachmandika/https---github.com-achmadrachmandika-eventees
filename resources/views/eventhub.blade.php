@extends('layouts2.app')
@section('content')

<div class="container-fluid p-0 mb-5">
    <div class="owl-carousel header-carousel position-relative">
        <!-- Carousel Item 1 -->
        <div class="owl-carousel-item position-relative">
            <img class="img-fluid w-100" src="images/event/Edit-32.jpg" alt="">

            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center"
                style="background: rgba(24, 29, 56, .7);">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-12 col-sm-10 col-md-8 col-lg-6">
                            <h5 class="text-primary text-uppercase mb-3 animated slideInDown">Mari kembangkan prestasi
                                para mahasiswa</h5>
                            <h1 class="display-4 text-white animated slideInDown">Penyelenggara Event Pelatihan pertama
                                di internal JTI Polinema.</h1>
                            <p class="fs-5 text-white mb-4 pb-2">Penyelenggara Event Pelatihan pertama di internal JTI
                                Polinema.</p>
                            <a href="#events-section"
                                class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Jadilah Pemateri</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Carousel Item 2 -->
        <div class="owl-carousel-item position-relative">
            <img class="img-fluid w-100" src="images/event/Edit-2.jpg" alt="">

            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center"
                style="background: rgba(24, 29, 56, .7);">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-12 col-sm-10 col-md-8 col-lg-6">
                            <h5 class="text-primary text-uppercase mb-3 animated slideInDown">Mari kembangkan prestasi
                                para mahasiswa</h5>
                            <h1 class="display-4 text-white animated slideInDown">Penyelenggara Event Pelatihan pertama
                                di internal JTI Polinema.</h1>
                            <p class="fs-5 text-white mb-4 pb-2">Penyelenggara Event Pelatihan pertama di internal JTI
                                Polinema.</p>
                            <a href="#events-section"
                                class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Jadilah Pemateri</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="container-xxl py-5">
    <div class="container">
    <div class="row g-4">
        <!-- First Item -->
        <div class="col-lg-4 col-md-6 col-sm-12 wow fadeInUp" data-wow-delay="0.1s">
            <div class="service-item text-center pt-3">
                <div class="p-4">
                    <i class="fa fa-3x fa-graduation-cap text-primary mb-4"></i>
                    <h5 class="mb-3">Instruktur Terampil</h5>
                    <p>Jadilah pemateri untuk event-event pelatihan yang kami selenggarakan, dan berbagi keahlian Anda
                        dengan peserta yang antusias.</p>
                </div>
            </div>
        </div>
    
        <!-- Second Item -->
        <div class="col-lg-4 col-md-6 col-sm-12 wow fadeInUp" data-wow-delay="0.3s">
            <div class="service-item text-center pt-3">
                <div class="p-4">
                    <i class="fa fa-3x fa-globe text-primary mb-4"></i>
                    <h5 class="mb-3">Kelas Online dan Offline</h5>
                    <p>Anda memiliki fleksibilitas untuk mengadakan kelas baik secara online maupun offline, memungkinkan
                        Anda untuk menjangkau lebih banyak peserta.</p>
                </div>
            </div>
        </div>
    
        <!-- Third Item -->
        <div class="col-lg-4 col-md-6 col-sm-12 wow fadeInUp" data-wow-delay="0.5s">
            <div class="service-item text-center pt-3">
                <div class="p-4">
                    <i class="fa fa-3x fa-home text-primary mb-4"></i>
                    <h5 class="mb-3">Proyek Langsung</h5>
                    <p>Selama pelatihan, Anda dapat memberikan pengalaman praktis kepada peserta dengan proyek langsung yang
                        relevan dengan dunia nyata.</p>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>

<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s" style="min-height: 400px;">
                <div class="position-relative h-100">
                    <img class="img-fluid position-absolute w-100 h-100" src="images/event/Edit-40.jpg" alt=""
                        style="object-fit: cover;">
                </div>
            </div>
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.3s">
                <h6 class="section-title bg-white text-start text-primary pe-3">Tentang Kami</h6>
                <h1 class="mb-4">Selamat Datang di EventeesHUB</h1>
                <p class="mb-4">Penyelenggara pelatihan pertama di JTI Polinema</p>
                <p class="mb-4"></p>
                <div class="row gy-2 gx-4 mb-4">
                    <div class="row gy-2 gx-4 mb-4">
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Pemateri Berpengalaman
                            </p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Kelas Online</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Kelas Offline</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Interaktif</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Sertifikat</p>
                        </div>
                    </div>
                    <a class="btn btn-primary py-3 px-5 mt-2" href="/about">Baca Selengkapnya</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s" style="min-height: 400px;">
                <div class="position-relative h-100">
                    <img class="img-fluid position-absolute w-100 h-100" src="images/event/Edit-36.jpg" alt=""
                        style="object-fit: cover;">
                </div>
            </div>
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.3s">
                <h6 class="section-title bg-white text-start text-primary pe-3">Salurkan Materi Anda Bagi Generasi
                    Penerus Bangsa</h6>
                <h1 class="mb-4">Jadilah Pemateri di waktu ini</h1>
                {{-- <p class="mb-4">Karena </p> --}}
                <p class="mb-4"></p>
                <div class="row gy-2 gx-4 mb-4">
                    <div class="row gy-2 gx-4 mb-4">
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Tingkatkan Reputasi
                                Profesional
                            </p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Berbagi Ilmu dan
                                Pengalaman</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Pengembangan Diri dan
                                Karir</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Penghargaan dan Pengakuan
                            </p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0"><i class="fa fa-arrow-right text-primary me-2"></i>Memberikan Dampak Positif
                                Bagi Mahasiswa</p>
                        </div>
                    </div>
                    <a href="#" class="btn btn-primary py-md-3 px-md-5 me-3" data-bs-toggle="modal"
                        data-bs-target="#createEventModal">Ajukan Pelatihan</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Tombol untuk membuka Modal -->
<div class="container-xxl py-5" id="events-section">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h6 class="section-title bg-white text-center text-primary px-3">Event Pelatihan</h6>
            <h1 class="mb-5">Jadilah Pemateri</h1>
        </div>
        @if (Auth::check() && Auth::user()->hasRole('dosen'))
        <div class="row g-4 justify-content-center">
            @if (session('error'))
            <div class="alert alert-danger">
                {{ session('error') }}
            </div>
            @endif

            @if ($eventdosens->isEmpty())
            <div class="col-12">
                <div class="alert alert-warning text-center">
                    <strong>Tidak ada event yang tersedia saat ini.</strong>
                </div>
            </div>
            @else
            @foreach ($eventdosens as $eventdosen)
            @if ($eventdosen->kuota > 0)
            <div class="row g-4 justify-content-center">
                <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="course-item bg-light">
                        <div class="position-relative overflow-hidden">
                            <img class="img-fluid" src="{{ asset('storage/' . $eventdosen->photo) }}" alt="">
                            <div class="w-100 d-flex justify-content-center position-absolute bottom-0 start-0 mb-4">
                                <a href="{{ route('eventhub.showdosen', ['kode_evndsn' => $eventdosen->kode_evndsn]) }}"
                                    class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end"
                                    style="border-radius: 30px 0 0 30px;">
                                    Jadilah Pemateri
                                </a>
                            </div>
                        </div>
                        <div class="text-center p-4 pb-0">
                            <div class="mb-3">
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small class="fa fa-star text-primary"></small>
                                <small>(123)</small>
                            </div>
                            <h5 class="mb-4">{{ $eventdosen->nama_event}}</h5>
                        </div>
                        <div class="d-flex border-top">
                            <small class="flex-fill text-center border-end py-2"><i
                                    class="fa fa-user-tie text-primary me-2"></i>{{ $eventdosen->kode_dosen }}</small>
                            <small class="flex-fill text-center border-end py-2"><i
                                    class="fa fa-clock text-primary me-2"></i> Rp.{{
                                \Carbon\Carbon::parse($eventdosen->jam)->format('H:i:s') }}</small>
                            <small class="flex-fill text-center py-2"><i class="fa fa-user text-primary me-2"></i>{{
                                $eventdosen->kuota }} Pemateri</small>
                        </div>
                    </div>
                </div>

            </div>
            @endif
            @endforeach
            @endif
        </div>
        @else
        <!-- Jika tidak memiliki role mahasiswa, tambahkan konten alternatif di sini -->
        @endif
    </div>
</div>

<section class="feedback-section py-5">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h3 class="section-title bg-white text-center text-primary px-3">Berikan kami masukan, Agar kami dapat
                berkembang
                disetiap momentnya</h6>

        </div>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow p-4">
                    <h3 class="mb-4 text-center">Kritik dan Saran</h3>

                    @if(session('success'))
                    <div class="alert alert-success">{{ session('success') }}</div>
                    @endif

                    @if(Auth::check())
                    <form id="feedback-form" action="{{ route('feedback.store') }}" method="POST">
                        @csrf
                        <div class="form-group mb-3">
                            <label for="name" class="form-label">Nama Anda</label>
                            <input type="text" class="form-control" name="name" id="name" required
                                value="{{ Auth::user()->name }}" readonly>
                        </div>
                        <div class="form-group mb-3">
                            <label for="email" class="form-label">Email Anda</label>
                            <input type="email" class="form-control" name="email" id="email" required
                                value="{{ Auth::user()->email }}" readonly>
                        </div>
                        <div class="form-group mb-4">
                            <label for="message" class="form-label">Pesan</label>
                            <textarea name="message" id="message" cols="30" rows="4" class="form-control"
                                placeholder="Tulis pesan Anda di sini..." required></textarea>
                        </div>
                        <div class="form-group text-center">
                            <input type="submit" value="Kirim Pesan" class="btn btn-primary py-2 px-4">
                        </div>
                    </form>
                    @else
                    <p class="text-center">Anda harus <a href="{{ route('login') }}">login</a> untuk memberikan kritik
                        dan saran.</p>
                    @endif
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonial Start -->
<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container">
        <div class="text-center">
            <h6 class="section-title bg-white text-center text-primary px-3">Testimonial</h6>
            <h1 class="mb-5">Feedback</h1>
        </div>
        <div class="owl-carousel testimonial-carousel position-relative">
            @foreach($feedbacks as $feedback)
            <div class="testimonial-item text-center">
                 <img class="border rounded-circle p-2 mx-auto mb-3" src="img1/profil.png"
                    style="width: 80px; height: 80px;">
                <h5 class="mb-0">{{ $feedback->name }}</h5>
                <p>{{ $feedback->email }}</p> <!-- Assuming email is the profession or designation -->
                <div class="testimonial-text bg-light text-center p-4">
                    <p class="mb-0">{{ $feedback->message }}</p>
                </div>
            </div>
            @endforeach
        </div>
    </div>
</div>

<div class="modal fade" id="createEventModal" tabindex="-1" aria-labelledby="createEventModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createEventModalLabel">Request Event yang akan diselenggarakan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="event-form" action="{{ route('eventreqdosens.store') }}" method="POST">
                    @csrf

                    <!-- Kode Dosen -->
                    <div class="form-group mb-4">
                        <label for="kode_dosen" class="form-label">Kode Dosen</label>
                        <input type="text"
                            class="form-control form-control-lg @error('kode_dosen') is-invalid @enderror"
                            id="kode_dosen" name="kode_dosen" required>
                        @error('kode_dosen')
                        <span class="invalid-feedback">{{ $message }}</span>
                        @enderror
                    </div>

                    <!-- Nama Dosen -->
                    <div class="form-group mb-4">
                        <label for="nama_dosen" class="form-label">Nama Dosen</label>
                        <input type="text"
                            class="form-control form-control-lg @error('nama_dosen') is-invalid @enderror"
                            id="nama_dosen" name="nama_dosen" required>
                        @error('nama_dosen')
                        <span class="invalid-feedback">{{ $message }}</span>
                        @enderror
                    </div>

                    <!-- Topik Pelatihan -->
                    <div class="form-group mb-4">
                        <label for="training_topic" class="form-label">Topik Pelatihan (optional)</label>
                        <input type="text"
                            class="form-control form-control-lg @error('training_topic') is-invalid @enderror"
                            id="training_topic" name="training_topic">
                        @error('training_topic')
                        <span class="invalid-feedback">{{ $message }}</span>
                        @enderror
                    </div>

                    <!-- Nomor HP -->
                    <div class="form-group mb-4">
                        <label for="no_hp" class="form-label">Nomor HP</label>
                        <input type="text" class="form-control form-control-lg @error('no_hp') is-invalid @enderror"
                            id="no_hp" name="no_hp" required>
                        @error('no_hp')
                        <span class="invalid-feedback">{{ $message }}</span>
                        @enderror
                    </div>

                    <!-- Catatan -->
                    <div class="alert alert-info mb-4" role="alert">
                        Jika ingin melakukan pelatihan, diharapkan untuk menyediakan jadwal setelah pendaftaran.
                    </div>

                    <!-- Tombol Submit -->
                    <div class="form-group mb-4">
                        <button type="submit" class="btn btn-primary btn-lg w-100">Simpan</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

@endsection

@section('script')

<!-- jQuery -->
<!-- Bootstrap JS and Popper.js (needed for modal functionality) -->
@section('script')
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Optional: Your custom script for initializing the modal or any extra functionality -->
<script>
    $(document).ready(function() {
        $('#alert-login').click(function() {
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: 'You must login first!',
                footer: '<a href="/login">Login</a>'
            });
        });
    });
</script>


@endsection